<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Template</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
  <script src="https://www.unpkg.com/react@18.2.0/umd/react.development.js"></script>
  <script src="https://www.unpkg.com/react-dom@18.2.0/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script type="text/babel">
    const reactRoot = ReactDOM.createRoot(document.getElementById('root'));
    
        function App(){
    
            const[userProfile, setUserProfile] = React.useState([{
                                                        "id": 1,
                                                        "email": "michael.lawson@reqres.in",
                                                        "first_name": "Michael",
                                                        "last_name": "Lawson",
                                                        "avatar": "https://reqres.in/img/faces/7-image.jpg"
                                                    },
                                                    {
                                                        "id": 2,
                                                        "email": "lindsay.ferguson@reqres.in",
                                                        "first_name": "Lindsay",
                                                        "last_name": "Ferguson",
                                                        "avatar": "https://reqres.in/img/faces/8-image.jpg"
                                                    },
                                                    {
                                                        "id": 3,
                                                        "email": "tobias.funke@reqres.in",
                                                        "first_name": "Tobias",
                                                        "last_name": "Funke",
                                                        "avatar": "https://reqres.in/img/faces/9-image.jpg"
                                                    },
                                                    {
                                                        "id": 4,
                                                        "email": "byron.fields@reqres.in",
                                                        "first_name": "Byron",
                                                        "last_name": "Fields",
                                                        "avatar": "https://reqres.in/img/faces/10-image.jpg"
                                                    },
                                                    {
                                                        "id": 5,
                                                        "email": "george.edwards@reqres.in",
                                                        "first_name": "George",
                                                        "last_name": "Edwards",
                                                        "avatar": "https://reqres.in/img/faces/11-image.jpg"
                                                    }
                                                ]);
        // We are using useState to upate the input state.
        const[input, setInput] = React.useState('');
        // Here we are filtering user profiles based on searchterm which is stored in input vaiable.
        const filteredData = userProfile.filter((item) => `${item.first_name}${item.last_name}`.toLowerCase().includes(input.toLowerCase()));
        //  Here we are mapping filteredData and calling userProfile component and sending user prop(an object that holds a user info.)
        return <>
                <input type="text" placeholder = "Search" onChange={(e) => setInput(e.target.value)}/>
                <div style={{display:"flex"}}>
                    {filteredData.map((item,i) => <UserProfile key={item.id} user = {item}/>)}
                </div>
               </> 

        }   
        // Here we  are recieveing user prop and then returing a div that contains user info.
        function UserProfile({user}){
            return <div style = {{margin:"30px"}}>
                        <img src={user.avatar} alt={user.first_name}/>
                        <h3>{user.first_name} {user.last_name}</h3>
                        <p>{user.email}</p>
                    </div>
        }                                      
        reactRoot.render(<App/>)

  </script>
</html>